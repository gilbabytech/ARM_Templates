{
 "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
 "contentVersion": "1.0.0.0",
 "resources": [
   {
     "type": "Microsoft.Storage/storageAccounts",
     "apiVersion": "2023-05-01",
     "name": "[parameters('storageAccountName')]",
     "location": "[parameters('location')]",
     "sku": {
       "name": "Standard_LRS"
     },
     "kind": "StorageV2",
     "properties": {
       "accessTier": "Hot",
       "supportsHttpsTrafficOnly": true,
       "encryption": {
         "services": {
           "blob": {
             "enabled": true,
             "keyType": "Account"
           },
           "file": {
             "enabled": true,
             "keyType": "Account"
           }
         },
         "keySource": "Microsoft.Storage"
       },
       "networkAcls": {
         "bypass": "AzureServices",
         "defaultAction": "Deny",
         "ipRules": [
           {
             "action": "Allow",
             "value": "192.168.1.0/24"
           }
         ],
         "virtualNetworkRules": [
           {
             "action": "Allow",
             "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', 'vnetName', 'subnetName')]"
           }
         ]
       }
     },
     "identity": {
       "type": "SystemAssigned"
     }
   }
 ]
}